# 🎯 HOI4 GFX Manager

> **Hearts of Iron 4 모딩을 위한 전문 GFX 통합 관리 도구**

HOI4 GFX Manager는 Hearts of Iron 4 모드 개발을 위한 **올인원 GFX 관리 솔루션**입니다. 복잡한 GFX 파일 관리부터 고급 분석, 일괄 변환까지 모든 작업을 하나의 도구로 해결할 수 있습니다.

![Version](https://img.shields.io/badge/version-2.1-blue.svg)
![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)
![Framework](https://img.shields.io/badge/framework-PyQt6-green.svg)
![License](https://img.shields.io/badge/license-MIT-orange.svg)

## ✨ 주요 기능 하이라이트

### 🔍 **스마트 GFX 분석 엔진**
- **철저한 사용처 검증**: 30개 이상의 패턴으로 GFX 참조 감지
- **자기 파일 참조 제외**: 정확한 미사용 GFX 식별
- **9가지 파일 형식 지원**: `.txt`, `.gui`, `.mod`, `.pdx`, `.interface`, `.gfx`, `.lua`, `.yml`, `.yaml`
- **실시간 분석 진행률**: 백그라운드 스레드로 대용량 프로젝트 처리

### 🖼️ **고급 이미지 변환 도구**
- **HOI4 최적화 DDS 변환**: B8G8R8A8 (Linear, A8R8G8B8) 기본 포맷
- **7가지 DDS 포맷 지원**: DXT1, DXT3, DXT5, BC7 등 전문 압축 옵션
- **스마트 알파 채널 처리**: 포맷별 최적화된 투명도 관리
- **일괄 변환**: 폴더 단위 대량 처리

### 🎨 **GUI 프리뷰 시스템 (미완성)**
- **실시간 GUI 미리보기**: .gui 파일 시각화
- **Scripted GUI 지원**: HOI4 고급 기능 완벽 호환
- **GFX 연동**: 실제 텍스처와 연결된 미리보기
- **고도화된 HOI4 문법**: 애니메이션, 조건문, 효과 등 지원

### 🚀 **생산성 도구**
- **드래그 앤 드롭**: 이미지 파일을 바로 끌어다 GFX 생성
- **Focus GFX Shine 생성기**: 누락된 Shine 효과 자동 생성
- **프로젝트 관리**: 여러 모드 프로젝트 통합 관리
- **일괄 임포트**: 폴더 전체 이미지를 한 번에 GFX로 변환

## 📊 **상세 기능 목록**

### 🔧 **GFX 관리 & 편집**
| 기능 | 설명 |
|------|------|
| **GFX 스캔 & 분석** | 모드 폴더 전체 GFX 파일 자동 스캔 및 상태 분석 |
| **실시간 편집** | 이름, 경로, 속성 등 GFX 정의 즉시 수정 |
| **중복 정의 감지** | 동일한 GFX 이름의 중복 정의 자동 탐지 |
| **누락 파일 검증** | 텍스처 파일 존재 여부 실시간 확인 |
| **안전한 삭제** | 사용처 확인 후 안전한 GFX 삭제 |
| **일괄 작업** | 여러 GFX 항목 동시 편집 및 관리 |

### 📈 **고급 분석 기능**
| 분석 항목 | 세부 내용 |
|----------|----------|
| **사용처 분석** | 코드 전체에서 GFX 참조 위치 정확히 추적 |
| **미사용 GFX 감지** | 실제로 사용되지 않는 GFX 식별 (자기 파일 참조 제외) |
| **TOP 20 사용 순위** | 가장 많이 사용되는 GFX 통계 |
| **파일별 통계** | GFX 파일별 상세 사용 현황 |
| **문제 파일 리포트** | 수정이 필요한 항목들 상세 분석 |
| **추천 사항 제시** | 최적화를 위한 구체적 개선 방안 |

### 🎯 **이미지 처리 & 변환**
| 변환 옵션 | 지원 내용 |
|----------|----------|
| **입력 포맷** | PNG, JPG, JPEG, BMP, TIFF, TGA |
| **출력 포맷** | PNG, JPG, BMP, **DDS** (HOI4 최적화) |
| **DDS 압축** | B8G8R8A8, DXT1, DXT3, DXT5, BC7, R8G8B8 등 |
| **품질 옵션** | JPG 품질 설정, PNG 최적화 |
| **일괄 처리** | 폴더 단위 대량 변환 |
| **진행률 표시** | 실시간 변환 상태 및 결과 확인 |

### 🖥️ **GUI 프리뷰 & 검증**
| GUI 기능 | 설명 |
|----------|------|
| **GUI 파일 파싱** | windowType, iconType, buttonType 등 완벽 지원 |
| **시각적 렌더링** | 실제 HOI4와 유사한 레이아웃 미리보기 |
| **Scripted GUI** | 동적 GUI 요소, 조건문, 효과 등 고급 기능 |
| **GFX 연동** | 실제 텍스처 파일과 연결된 미리보기 |
| **오류 감지** | GUI 정의 오류 자동 탐지 및 상세 리포트 |
| **상대 경로 표시** | 모드 폴더 기준 깔끔한 경로 표시 |

### ⚡ **사용자 경험**
| UX 기능 | 내용 |
|---------|------|
| **드래그 앤 드롭** | 이미지 파일을 바로 끌어다 자동 GFX 생성 |
| **스마트 폴더 감지** | 기존 GFX들의 폴더 패턴 자동 인식 |
| **다크 모드** | 눈에 편한 어두운 테마 지원 |
| **프로젝트 관리** | 여러 모드 프로젝트 저장 및 빠른 전환 |
| **실시간 피드백** | 모든 작업의 즉시 결과 확인 |
| **키보드 단축키** | 빠른 작업을 위한 단축키 지원 |

## 🏆 **특별한 강점**

### 🎯 **HOI4 전문 최적화**
- **Hearts of Iron 4 모딩에 특화**된 기능들
- **실제 게임 엔진과 호환**되는 정확한 분석
- **모딩 커뮤니티 피드백** 반영된 실용적 도구

### 🚀 **성능 & 안정성**
- **대용량 모드 프로젝트** 안정적 처리
- **백그라운드 처리**로 UI 응답성 유지
- **메모리 최적화**된 효율적 알고리즘

### 🛠️ **확장성 & 유연성**
- **모듈화된 구조**로 기능 확장 용이
- **다양한 워크플로우** 지원
- **개발자 친화적** 상세 로그 및 디버그 정보

## 📋 **시스템 요구사항**

### 최소 요구사항
- **OS**: Windows 10 이상
- **Python**: 3.8 이상
- **메모리**: 4GB RAM
- **저장공간**: 500MB

### 권장 사양
- **OS**: Windows 11
- **Python**: 3.10 이상
- **메모리**: 8GB RAM 이상
- **저장공간**: 1GB 이상

## 🚀 **설치 방법**

### 필수 라이브러리 설치
```bash
pip install PyQt6 Pillow opencv-python numpy pywavelets
```

### 선택적 라이브러리 (DDS 지원 강화)
```bash
pip install Pillow-DDS-Extended
```

### 실행
```bash
python main.py
```

## 📖 **사용 가이드**

### 🎬 **빠른 시작**
1. **모드 폴더 선택**: `파일` → `모드 폴더 선택`
2. **GFX 스캔**: 자동으로 모든 GFX 파일 분석
3. **작업 시작**: 필요한 기능 선택하여 사용

### 🔄 **일반적인 워크플로우**

#### **새 GFX 추가**
1. 이미지 파일을 프로그램에 **드래그 앤 드롭**
2. 자동으로 적절한 폴더와 GFX 파일 감지
3. GFX 이름 확인 후 **자동 등록**

#### **미사용 GFX 정리**
1. `도구` → `전체 분석 실행`
2. **미사용 GFX 목록** 확인
3. **안전한 삭제** 또는 **보관** 결정

#### **일괄 이미지 변환**
1. `도구` → `GFX 일괄 변환`
2. 변환할 **파일 또는 폴더** 선택
3. **DDS 포맷** 설정 후 변환 실행

#### **GUI 미리보기**
1. `GUI 프리뷰` 탭 선택
2. `.gui` 파일 로드
3. **Scripted GUI** 파일 추가 연동 (선택사항)

## 🎨 **스크린샷**

*여기에 주요 화면 스크린샷들을 추가할 예정*

## 🤝 **기여하기**

이 프로젝트는 HOI4 모딩 커뮤니티의 피드백과 기여를 환영합니다!

### 버그 리포트
- **재현 가능한 단계** 포함
- **에러 메시지** 전체 복사
- **사용 환경** 정보 (OS, Python 버전 등)

### 기능 제안
- **구체적인 사용 사례** 설명
- **기대하는 동작** 명시
- **현재 대안**과의 차이점

## 📝 **버전 히스토리**

### v2.1 (최신)
- ✅ **GFX 일괄 변환 도구** 추가
- ✅ **자기 파일 참조 제외** 로직 개선
- ✅ **Scripted GUI 고도화** 지원
- ✅ **상대 경로 표시** 통합 적용
- ✅ **성능 최적화** 및 안정성 향상

### v2.0
- ✅ **GUI 프리뷰 시스템** 구축
- ✅ **고급 사용처 분석** 엔진
- ✅ **드래그 앤 드롭** 지원
- ✅ **프로젝트 관리** 기능

### v1.0
- ✅ **기본 GFX 관리** 기능
- ✅ **Focus Shine 생성기**
- ✅ **일괄 임포트** 도구

## 🏷️ **라이선스**

이 프로젝트는 **MIT 라이선스** 하에 배포됩니다.

## 🎯 **향후 계획**

### 근시일 내 추가 예정
- 🔄 **GFX 압축 최적화** 도구
- 📊 **시각적 통계 차트**
- 🔍 **중복 이미지 파일** 감지
- 🌐 **다국어 지원** (영어)

### 장기 로드맵
- 🎨 **Focus Tree 미리보기** 연동
- 🚀 **모드 배포 패키징** 도구
- 👥 **팀 협업** 기능
- 🔧 **플러그인 시스템**

---

## 💬 **커뮤니티 & 지원**

HOI4 GFX Manager는 **Hearts of Iron 4 모딩 커뮤니티**를 위한 도구입니다.

**제작자**: AI Assistant (Claude)  
**기술 스택**: Python, PyQt6, OpenCV, Pillow  
**개발 목적**: HOI4 모딩 생산성 향상

---

*"복잡한 GFX 관리, 이제 간단하게!" - HOI4 GFX Manager* 🎯